<div class="row p-2">
  <div class="col-md-6 user-container border border-primary rounded p-2">
    <h2 class="text-primary-emphasis text-center">Edit User</h2>
    <form [formGroup]="editForm" (ngSubmit)="onSubmit()" #myform="ngForm">
      <div class="hidden">
        <input type="hidden" formControlName="_id" placeholder="_id" name="_id" class="form-control" id="_id">
      </div>
      <div class="form-floating mb-2">        
        <input type="text" formControlName="username" placeholder="username" name="username" class="form-control"
          id="username" readonly="true">
        <label for="username">User Name:</label>
      </div>      

      <div class="form-floating mb-2">        
        <input type="password" formControlName="password" placeholder="password" name="password" class="form-control"
          id="password" minlength="4" required>
        <label for="password">Password:</label>
        <div
          *ngIf="editForm.controls['password'].invalid && (editForm.controls['password'].dirty || editForm.controls['password'].touched || myform.submitted)"
          class="alert alert-danger">
          <div *ngIf="editForm.controls['password'].hasError('required')">
            Password is required.
          </div>
          <div *ngIf="editForm.controls['password'].hasError('minlength')">
            Password must be at least 4 characters long.
          </div>
        </div>
      </div>

      <div class="form-control mb-2">
        <label>User Role:</label>
        <div class="form-check">
          <input id="user" type="radio" class="form-check-input" value="ROLE_USER" name="authorities" (change)="onChange($event)" [checked]="isUser">
          <label class="form-check-label" for="user">User</label>
        </div>

        <div class="form-check">
          <input id="admin" type="radio" class="form-check-input" value="ROLE_ADMIN" name="authorities" (change)="onChange($event)" [checked]="isAdmin">
          <label class="form-check-label" for="admin">Administrator</label>
        </div>
        <div
          *ngIf="editForm.controls['authorities'].invalid && (editForm.controls['authorities'].dirty || editForm.controls['authorities'].touched || myform.submitted)"
          class="alert alert-danger">
          <div *ngIf="editForm.controls['authorities'].hasError('required')">
            User role is required.
          </div>
        </div>
      </div>

      <div class="form-floating mb-2">        
        <input formControlName="firstName" placeholder="First Name" name="firstName" class="form-control" id="firstName"
          minlength="4" required>
        <label for="firstName">First Name:</label>
        <div
          *ngIf="editForm.controls['firstName'].invalid && (editForm.controls['firstName'].dirty || editForm.controls['firstName'].touched || myform.submitted)"
          class="alert alert-danger">
          <div *ngIf="editForm.controls['firstName'].hasError('required')">
            First name is required.
          </div>
          <div *ngIf="editForm.controls['firstName'].hasError('minlength')">
            First name must be at least 4 characters long.
          </div>
        </div>
      </div>

      <div class="form-floating mb-2">        
        <input formControlName="lastName" placeholder="Last Name" name="lastName" class="form-control" id="lastName"
          minlength="4" required>
        <label for="lastName">Last Name:</label>
        <div
          *ngIf="editForm.controls['lastName'].invalid && (editForm.controls['lastName'].dirty || editForm.controls['lastName'].touched || myform.submitted)"
          class="alert alert-danger">
          <div *ngIf="editForm.controls['lastName'].hasError('required')">
            Last name is required.
          </div>
          <div *ngIf="editForm.controls['lastName'].hasError('minlength')">
            Last name must be at least 4 characters long.
          </div>
        </div>
      </div>

      <div class="form-floating mb-2">        
        <input type="number" formControlName="age" placeholder="Age" name="age" class="form-control" id="age" min="1"
          required>
        <label for="age">Age:</label>
        <div
          *ngIf="editForm.controls['age'].errors && (editForm.controls['age'].dirty || editForm.controls['age'].touched || myform.submitted)"
          class="alert alert-danger">
          <div *ngIf="editForm.controls['age'].hasError('required')">
            Age is required.
          </div>
          <div *ngIf="editForm.controls['age'].hasError('min')">
            Age must be greater than or equal to 1.
          </div>
        </div>
      </div>

      <div class="form-floating mb-2">        
        <input type="number" formControlName="salary" placeholder="Salary" name="salary" class="form-control"
          id="salary" min="1" required>
        <label for="salary">Salary:</label>
        <div
          *ngIf="editForm.controls['salary'].errors && (editForm.controls['salary'].dirty || editForm.controls['salary'].touched || myform.submitted)"
          class="alert alert-danger">
          <div *ngIf="editForm.controls['salary'].hasError('required')">
            Salary is required.
          </div>
          <div *ngIf="editForm.controls['salary'].hasError('min')">
            Salary must be greater than or equal to 1.
          </div>
        </div>
      </div>
      <div class="form-group mb-2 text-center">
        <button mat-button mat-flat-button color="primary"><fa-icon [icon]="faUserPen"></fa-icon> Update</button>
      </div>         
    </form>
  </div>
</div>